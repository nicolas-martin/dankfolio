appId: com.nicolasmartin.dankfolio
env:
  LOAD_DEBUG_WALLET: "true"
  E2E_MOCKING_ENABLED: "true"
---
# HomeScreen: Price Updates Test
# Tests: price history fetching (sequential and parallel modes)
# Matches Jest test cases for price history functionality

- launchApp
- assertVisible: 
    text: "Portfolio"

# Wait for initial coin data to load
- assertVisible:
    text: "ONE"

# Test that price charts start loading
# Note: In real app, this would show loading indicators

# Test that price data eventually loads
- assertVisible:
    text: "$10"  # Price for ONE should be visible

- assertVisible:
    text: "$20"  # Price for TWO should be visible

# Test price change indicators (if available)
- assertVisible:
    text: "+"  # Positive change indicator

# Test that all coins have price data loaded
# This simulates the sequential/parallel fetching completion

# Verify no loading states remain
- assertNotVisible:
    text: "Loading price..."

# Test refresh functionality
- swipeDown  # Pull to refresh
- wait: 2000
- assertVisible:
    text: "Portfolio"
