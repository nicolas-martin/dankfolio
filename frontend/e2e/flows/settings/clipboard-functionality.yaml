appId: com.nicolasmartin.dankfolio
env:
  LOAD_DEBUG_WALLET: "true"
  E2E_MOCKING_ENABLED: "true"
---
# SettingsScreen: Clipboard Functionality Test
# Tests: copies public key to clipboard and shows toast
# Matches Jest test case from SettingsScreen.test.tsx

- launchApp
- assertVisible: 
    text: "Portfolio"
    timeout: 10000

# Navigate to Settings
- tapOn: "Profile"
- tapOn: "Settings"
- assertVisible:
    text: "Settings"
    timeout: 5000

# Locate the copy button for public key
- assertVisible:
    id: "copy-public-key-button"
    timeout: 3000

# Test copy functionality
- tapOn:
    id: "copy-public-key-button"

# Test that toast appears with success message
- assertVisible:
    text: "Public Key copied!"
    timeout: 5000

# Test toast type (success)
- assertVisible:
    text: "âœ“"  # Success indicator
    timeout: 3000

# Wait for toast to disappear
- wait: 3000
- assertNotVisible:
    text: "Public Key copied!"
    timeout: 2000

# Test copy button multiple times
- tapOn:
    id: "copy-public-key-button"
- assertVisible:
    text: "Public Key copied!"
    timeout: 3000

# Test that the button remains functional
- wait: 3000
- tapOn:
    id: "copy-public-key-button"
- assertVisible:
    text: "Public Key copied!"
    timeout: 3000

# Test that wallet address is still displayed correctly
- assertVisible:
    text: "testPublicKeyAdd..."
    timeout: 3000

# Test that copy functionality doesn't affect other UI elements
- assertVisible:
    text: "Private Key"
    timeout: 3000
- assertVisible:
    text: "App Version"
    timeout: 3000

# Test navigation still works after copy
- tapOn:
    id: "back-button"
- assertVisible:
    text: "Profile"
    timeout: 3000

# Navigate back to verify state is preserved
- tapOn: "Settings"
- assertVisible:
    text: "testPublicKeyAdd..."
    timeout: 3000 