appId: com.nicolasmartin.dankfolio
env:
    fromSymbol: ${FROM_SYMBOL}
    fromAmount: ${FROM_AMOUNT}
    fromBalance: ${FROM_BALANCE}
    fromUsdValue: ${FROM_USD_VALUE}
    toSymbol: ${TO_SYMBOL}
    toAmount: ${TO_AMOUNT}
    toBalance: ${TO_BALANCE}
---
# Assert token selectors are visible
- assertVisible:
      id: "from-token-selector"

- assertVisible:
      id: "to-token-selector"

# Assert FROM amount is visible (this is user input, should be exact)
- assertVisible:
      text: ".*${fromAmount}.*"

# Assert TO amount is visible (using regex for flexibility)
- assertVisible:
      text: ".*${toAmount}.*"

# Assert balances are visible (optional as they may not always be present)
- assertVisible:
      text: ".*${fromBalance}.*"
      optional: true

- assertVisible:
      text: ".*${toBalance}.*"
      optional: true

# Assert FROM USD value is visible (FROM TokenSelector always has USD functionality)
- assertVisible:
      text: ".*${fromUsdValue}.*"

# Assert FROM USD toggle functionality is available
- assertVisible:
      id: "from-token-selector-swap-button"

- assertVisible:
      id: "from-token-selector-secondary-value"
