appId: com.nicolasmartin.dankfolio
env:
  LOAD_DEBUG_WALLET: "true"
  E2E_MOCKING_ENABLED: "true"
---
# TokenSelector: Basic Functionality Test
# Tests: renders correctly with default props, displays selected token information
# Matches Jest test cases from TokenSelector.test.tsx

- launchApp
- assertVisible: 
    text: "Portfolio"
    timeout: 10000

# Navigate to Trade screen to access TokenSelector
- tapOn: "Trade"
- assertVisible:
    text: "Swap"
    timeout: 5000

# Test default state (no token selected)
- assertVisible:
    text: "Select Token"  # Default label
    timeout: 3000

# Test "From" token selector
- assertVisible:
    id: "from-token-selector"
    timeout: 3000

# Test "To" token selector  
- assertVisible:
    id: "to-token-selector"
    timeout: 3000

# Test selecting a token in "From" selector
- tapOn:
    id: "from-token-selector"
- assertVisible:
    text: "Search tokens"
    timeout: 3000

# Select SOL token
- tapOn:
    text: "SOL"

# Test that selected token information is displayed
- assertVisible:
    text: "SOL"  # Token symbol
    timeout: 3000

# Test token icon is displayed
- assertVisible:
    id: "token-icon-SOL"
    timeout: 3000

# Test "To" token selector with selection
- tapOn:
    id: "to-token-selector"
- assertVisible:
    text: "Search tokens"
    timeout: 3000

# Select USDC token
- tapOn:
    text: "USDC"

# Test that both tokens are displayed correctly
- assertVisible:
    text: "SOL"
    timeout: 3000
- assertVisible:
    text: "USDC"
    timeout: 3000

# Test that selectors show selected tokens
- assertNotVisible:
    text: "Select Token"  # Should not show default label anymore
    timeout: 2000

# Test amount input is available when tokens are selected
- assertVisible:
    id: "amount-input"
    timeout: 3000

# Test that token information persists
- tapOn: "Portfolio"
- tapOn: "Trade"
- assertVisible:
    text: "SOL"  # Should remember selection
    timeout: 3000
- assertVisible:
    text: "USDC"
    timeout: 3000 