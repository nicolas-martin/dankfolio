appId: com.nicolasmartin.dankfolio
---
# Trade Flow
# Tests the complete trading process

- launchApp
- assertVisible: 
    text: "Portfolio"
    timeout: 10000

# Navigate to Trade screen
- tapOn: "Trade"
- assertVisible: 
    text: "Swap"
    timeout: 5000

# Test token selector for "From" token
- tapOn: 
    id: "from-token-selector"
- assertVisible: 
    text: "Search tokens"
    timeout: 3000
- tapOn: 
    text: "SOL"  # Select SOL from MSW mock data
- assertVisible: 
    text: "SOL"
    timeout: 3000

# Test token selector for "To" token  
- tapOn: 
    id: "to-token-selector"
- assertVisible: 
    text: "Search tokens"
    timeout: 3000
- tapOn: 
    text: "USDC"  # Select USDC from MSW mock data
- assertVisible: 
    text: "USDC"
    timeout: 3000

# Enter amount
- tapOn: 
    id: "amount-input"
- inputText: "1"
- assertVisible: 
    text: "$"  # Should show USD value
    timeout: 3000

# Test swap quote
- assertVisible: 
    text: "Get Quote"
    timeout: 3000
- tapOn: "Get Quote"
- assertVisible: 
    text: "Review Swap"
    timeout: 5000

# Test trade confirmation screen
- assertVisible: 
    text: "Confirm"
- assertVisible: 
    text: "1 SOL"
- assertVisible: 
    text: "USDC"

# Test back navigation from confirmation
- tapOn: 
    id: "back-button"
- assertVisible: 
    text: "Swap"
    timeout: 3000 