appId: com.nicolasmartin.dankfolio
env:
    LOAD_DEBUG_WALLET: "true"
    E2E_MOCKING_ENABLED: "true"
    JUP_ADDRESS: "jupyiwryjfskupiha7hker8vutaefosybkedznsdvcn"
    SOL_ADDRESS: "so11111111111111111111111111111111111111112"
    BONK_ADDRESS: "bonk111111111111111111111111111111111111"
    NEW_COIN_ADDRESS: "Newcoin1111111111111111111111111111111"
    ROCKET_COIN_ADDRESS: "rocketcoin111111111111111111111111111"
    DIAMOND_COIN_ADDRESS: "Diamondcoin11111111111111111111111111"
---
- launchApp

# Test main sections are visible
- assertVisible: "New Listings"
- assertVisible: "Trending Coins"

# Test navigation elements
- assertVisible: "  Portfolio Portfolio"
- assertVisible: "  Explore Explore"
- assertVisible: "  Home Home"

# Trending
- runFlow:
      when:
          visible:
              id: "coin-card-${JUP_ADDRESS}"
      file: ../components/coin-card.yaml
      env:
          COIN_ADDRESS: "${JUP_ADDRESS}"

- runFlow:
      when:
          visible:
              id: "coin-card-${SOL_ADDRESS}"
      file: ../components/coin-card.yaml
      env:
          COIN_ADDRESS: "${SOL_ADDRESS}"

- runFlow:
      when:
          visible:
              id: "coin-card-${BONK_ADDRESS}"
      file: ../components/coin-card.yaml
      env:
          COIN_ADDRESS: "${BONK_ADDRESS}"

# New
- assertVisible:
      id: "new-coin-card-${NEW_COIN_ADDRESS}"

- runFlow:
      file: ../components/new-coin-card.yaml
      env:
          COIN_ADDRESS: "${NEW_COIN_ADDRESS}"

- assertVisible:
      id: "new-coin-card-${ROCKET_COIN_ADDRESS}"

- runFlow:
      file: ../components/new-coin-card.yaml
      env:
          COIN_ADDRESS: "${ROCKET_COIN_ADDRESS}"

- assertVisible:
      id: "new-coin-card-${DIAMOND_COIN_ADDRESS}"

- runFlow:
      file: ../components/new-coin-card.yaml
      env:
          COIN_ADDRESS: "${DIAMOND_COIN_ADDRESS}"
