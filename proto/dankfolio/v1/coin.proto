syntax = "proto3";

package dankfolio.v1;

import "google/protobuf/timestamp.proto";

option go_package = "github.com/nicolas-martin/dankfolio/backend/gen/proto/go/dankfolio/v1;dankfoliov1";

// CoinService provides methods for interacting with coin data
service CoinService {
  // GetAvailableCoins returns a list of available coins
  rpc GetAvailableCoins(GetAvailableCoinsRequest) returns (GetAvailableCoinsResponse);
  
  // GetCoinByID returns a specific coin by ID
  rpc GetCoinByID(GetCoinByIDRequest) returns (Coin);
}

// Coin represents a token or currency
message Coin {
  string id = 1;
  string name = 2;
  string symbol = 3;
  int32 decimals = 4;
  string description = 5;
  string icon_url = 6;
  repeated string tags = 7;
  double price = 8;
  double daily_volume = 9;
  optional string website = 10;
  optional string twitter = 11;
  optional string telegram = 12;
  optional string coingecko_id = 13;
  google.protobuf.Timestamp created_at = 14;
  optional google.protobuf.Timestamp last_updated = 15;
}

message GetAvailableCoinsRequest {
  bool trending_only = 1; // Changed from optional to required
}

message GetAvailableCoinsResponse {
  repeated Coin coins = 1;
}

message GetCoinByIDRequest {
  string id = 1;
}

// Note: GetTokenPricesRequest and GetTokenPricesResponse have been moved to trade.proto